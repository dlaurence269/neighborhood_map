<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Rome: Neighborhood Map</title>
        <!-- Declare Character Set -->
        <meta charset="utf-8">
        <!-- Link Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <!-- Set Viewport -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Load CSS -->
        <link rel="stylesheet" type="text/css" href="styles.css">
        <!-- Import Fontawesome Icons -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    </head>

    <body>
            <!-- Map -->
            <div id="map" class="container"></div>

            <!-- Side Panel -->
            <div id="side-panel" class="container col-xs-12 col-sm-4 col-lg-3">
                <button id="close-side-panel-button" class="button glyphicon glyphicon-chevron-up collapse-expand-panel"></button>
                <button id="open-side-panel-button" class="button glyphicon glyphicon-chevron-down collapse-expand-panel hidden"></button>
                <div id="search-and-results">
                    <!-- Search Bar -->
                    <input id="searchbar" class="form-control" type="text" placeholder="Search" 
                    data-bind="value: searchString, valueUpdate: 'keyup'" autocomplete="off">
                    <hr>
                    <!-- List of Results -->
                    <div id="results" data-bind="foreach: filteredResults">
                        <div class="result" data-bind="attr:{'data-id': id}, event: { click: $root.showResult }">
                            <div class="row title-line">
                                <img class="img-responsive col-xs-4" data-bind="attr:{src: imageURL}" alt="Image">
                                <p class="title" data-bind="text: name"></p>
                            </div>
                            <p class="description" data-bind="text: description"></p>
                            <div class="below-title collapse-expand-result hidden">
                                <p><i class="fas fa-map-marker"></i> <span data-bind="text: address"></span></p>
                                <p><i class="fas fa-phone"></i> <span data-bind="text: number"></span></p>
                                <p><i class="fas fa-clock"></i> <span data-bind="text: hours"></span></p>
                                <p><i class="fas fa-subway"></i> <span data-bind="text: closestTransitStop"></span></p>
                                <hr/>
                                <div class="row web-links">
                                    <a data-bind="attr:{href: website}" target="_blank" onclick="preventCollapse(event)">
                                        <i class="fas fa-info-circle"></i> Website
                                    </a>
                                    <a data-bind="attr:{href: tripAdvisor}" target="_blank" onclick="preventCollapse(event)">
                                        <i class="fab fa-tripadvisor"></i> Trip&nbsp;Advisor
                                    </a>
                                    <a data-bind="attr:{href: wikiLink}" target="_blank" onclick="preventCollapse(event)">
                                        <i class="fab fa-wikipedia-w"></i> Wikipedia
                                    </a>
                                </div>
                                <hr/>
                                <div class="yelp">
                                    <p><i class="fab fa-yelp"></i> Yelp Content</p>
                                    <p data-bind="if: alias && rating && review_count && yelpURL">
                                        Rating: <span data-bind="text: rating"></span> <i class="fas fa-star"></i></span>
                                        <a data-bind="attr:{href: yelpURL}" target="_alt" onclick="preventCollapse(event)">
                                            <span data-bind="text: review_count"></span> reviews
                                        </a>
                                    </p>
                                    <p data-bind="if: !(alias && rating && review_count && yelpURL)">
                                        <span class="italic">No data available</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <hr>
                    </div>
                </div>
            </div>

            <!-- InfoWindow Content -->
           <!--  <div id="info-window-content-0" class="hidden">
                <div class="rating-and-review">
                    <p class="rating">Rating: 4.5</p>
                    <p class="review-count">Review Count: 355</p>
                </div>
            </div> -->
     
        <!-- Load JavaScript -->
        <script src="js/vendor/knockout_2.2.0.js"></script>
        <script src="js/vendor/jQuery.js"></script>
        <script src="js/compiled/data_required.js"></script>
        <script src="js/compiled/map.js"></script>

        <!-- Load the Google Map JS API ASYNCHRONOUSLY -->
        <script async defer 
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDOKLk5ig0xf2-881RHBrgL2B63F033oKM&callback=initMap"
            type="text/javascript">
        </script>
    </body>
</html>
